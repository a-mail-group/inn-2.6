.\" Automatically generated by Pod::Man 4.07 (Pod::Simple 3.32)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.if !\nF .nr F 0
.if \nF>0 \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    if !\nF==2 \{\
.        nr % 0
.        nr F 2
.    \}
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "NNTPSEND 8"
.TH NNTPSEND 8 "2015-09-12" "INN 2.6.3" "InterNetNews Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
nntpsend \- Send Usenet articles to remote sites
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBnntpsend\fR [\fB\-acDdlNnpr\fR] [\fB\-P\fR \fIportnum\fR] [\fB\-s\fR \fIsize\fR]
[\fB\-T\fR \fItimelimit\fR] [\fB\-t\fR \fItimeout\fR] [\fB\-w\fR \fIdelay\fR]
[\fIsitename\fR \fIfqdn\fR] ...
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBnntpsend\fR is a front-end that invokes \fBinnxmit\fR to send Usenet articles
to a remote \s-1NNTP\s0 site.  The sites to be fed may be specified by giving
\&\fIsitename\fR \fIfqdn\fR pairs on the command line.  If no such pairs are given,
\&\fBnntpsend\fR defaults to the information given in the \fInntpsend.ctl\fR
config file.  The \fIsitename\fR should be the name of the site as specified
in the \fInewsfeeds\fR file.  The \fIfqdn\fR should be the hostname or \s-1IP\s0 address
of the remote site.  An \fBinnxmit\fR is launched for sites with queued news.
All \fBinnxmit\fR processes are spawned in the background and the script
waits for them all to finish before returning.  Output is sent to the file
\&\fInntpsend.log\fR in \fIpathlog\fR.  In order to keep from overwhelming the
local system, \fBnntpsend\fR waits five seconds before spawning each child.
.PP
\&\fBnntpsend\fR expects that the batch file for a site is named \fIsitename\fR
in \fIpathoutgoing\fR.  To prevent batch files corruption, \fBshlock\fR is used to
\&\*(L"lock\*(R" these files.  When \fIsitename\fR \fIfqdn\fR pairs are given on the command
line, any flags given on the command completely describe how \fBinnxmit\fR
and \fBshrinkfile\fR operate.  When no such pairs are given on the command
line, then the information found in \fInntpsend.ctl\fR becomes the default
flags for that site.  Any flags given on the command line override the
default flags for the site.
.PP
An alternative to \fBnntpsend\fR can be \fBinnduct\fR, mentioned in the
\&\fIinnfeed\fR\|(8) man page.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-D\fR, \fB\-d\fR" 2
.IX Item "-D, -d"
The \fB\-D\fR flag causes \fBnntpsend\fR to send output to stdout rather than
the log file \fInntpsend.log\fR in \fIpathlog\fR.  The \fB\-d\fR flag does the same
and it passes \fB\-d\fR to all \fBinnxmit\fR invocations, which in turn causes
\&\fBinnxmit\fR to go into debug mode.
.IP "\fB\-n\fR" 2
.IX Item "-n"
If the \fB\-n\fR flag is used, then \fBnntpsend\fR does not use \fBshlock\fR to lock
the use of \fBnntpsend\fR.  Batch files will still be locked.
.IP "\fB\-s\fR \fIsize\fR" 2
.IX Item "-s size"
If the \fB\-s\fR flag is used, then \fBshrinkfile\fR will be invoked to perform
a head truncation of \fIsize\fR bytes on the batch file and the flag will be
passed to it.
.IP "\fB\-w\fR \fIdelay\fR" 2
.IX Item "-w delay"
If the \fB\-w\fR flag is used, then \fBnntpsend\fR waits for \fIdelay\fR seconds
after flushing the site before launching \fBinnxmit\fR.
.IP "\fB\-a\fR, \fB\-c\fR, \fB\-l\fR, \fB\-N\fR, \fB\-P\fR \fIportnum\fR, \fB\-p\fR, \fB\-r\fR, \fB\-T\fR \fItimelimit\fR, \fB\-t\fR \fItimeout\fR" 2
.IX Item "-a, -c, -l, -N, -P portnum, -p, -r, -T timelimit, -t timeout"
The \fB\-a\fR, \fB\-c\fR, \fB\-l\fR, \fB\-P\fR \fIportnum\fR, \fB\-p\fR, \fB\-r\fR, \fB\-T\fR \fItimelimit\fR
and \fB\-t\fR \fItimeout\fR flags are passed on to the child \fBinnxmit\fR program.
The \fB\-N\fR flag is passed as \fB\-s\fR flag to the child \fBinnxmit\fR program.
See \fIinnxmit\fR\|(8) for more details.
.Sp
Note that if the \fB\-p\fR flag is used, then no connection is made and no
articles are fed to the remote site.  It is useful to have \fIcron\fR\|(8) invoke
\&\fBnntpsend\fR with this flag in case a site cannot be reached for an extended
period of time.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
With the following \fInntpsend.ctl\fR config file:
.PP
.Vb 4
\&    nsavax:erehwon.nsavax.gov::\-t60
\&    group70:group70.org::
\&    walldrug:walldrug.com:4m\-1m:\-T1800 \-t300
\&    kremvax:kremvax.cis:2m:
.Ve
.PP
the command \f(CW\*(C`nntpsend\*(C'\fR will result in the following:
.PP
.Vb 5
\&    Sitename        Truncation      innxmit flags
\&    nsavax          (none)          \-a \-t60
\&    group70         (none)          \-a \-t180
\&    walldrug        1m if >4m       \-T1800 \-t300
\&    kremvax         2m              \-t180
.Ve
.PP
The command \f(CW\*(C`nntpsend \-d \-T1200\*(C'\fR will result in the following:
.PP
.Vb 5
\&    Sitename        Truncation      innxmit flags
\&    nsavax          (none)          \-a \-d \-T1200 \-t60
\&    group70         (none)          \-a \-d \-T1200 \-t180
\&    walldrug        1m if >4m       \-d \-T1200 \-t300
\&    kremvax         2m              \-d \-T1200 \-t180
.Ve
.PP
The command \f(CW\*(C`nntpsend \-s 5m \-T1200 nsavax erehwon.nsavax.gov group70
group70.org\*(C'\fR will result in the following:
.PP
.Vb 3
\&    Sitename        Truncation      innxmit flags
\&    nsavax          5m              \-T1200 \-t180
\&    group70         5m              \-T1200 \-t180
.Ve
.PP
Remember that \fB\-a\fR is always given when there is no size limit, and \fB\-t\fR
defaults to \f(CW180\fR.
.SH "HISTORY"
.IX Header "HISTORY"
Written by Landon Curt Noll <chongo@toad.com> and Rich \f(CW$alz\fR
<rsalz@uunet.uu.net> for InterNetNews.  Converted to \s-1POD\s0 by Julien Elie.
.PP
\&\f(CW$Id:\fR nntpsend.pod 9588 2013\-12\-19 17:46:41Z iulius $
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIinn.conf\fR\|(5), \fIinnxmit\fR\|(1), \fInewsfeeds\fR\|(5), \fInntpsend.ctl\fR\|(5), \fIshlock\fR\|(1),
\&\fIshrinkfile\fR\|(1).
