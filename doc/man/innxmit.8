.\" Automatically generated by Pod::Man 4.07 (Pod::Simple 3.32)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.if !\nF .nr F 0
.if \nF>0 \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    if !\nF==2 \{\
.        nr % 0
.        nr F 2
.    \}
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "INNXMIT 8"
.TH INNXMIT 8 "2015-09-12" "INN 2.6.3" "InterNetNews Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
innxmit \- Send Usenet articles to a remote NNTP server
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBinnxmit\fR [\fB\-acdHlprsv\fR] [\fB\-P\fR \fIportnum\fR] [\fB\-T\fR \fIseconds\fR]
[\fB\-t\fR \fIseconds\fR] \fIhost\fR \fIfile\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBinnxmit\fR connects to the \s-1NNTP\s0 server at the specified \fIhost\fR
(validating itself via \fIpasswd.nntp\fR if possible) and sends it the
articles specified in the batch file named \fIfile\fR.  It is normally
invoked by a script run out of \fIcron\fR\|(8) that uses \fBshlock\fR to lock the
host name, followed by a \fBctlinnd\fR command to flush the batch file.
If \fIfile\fR is not an absolute path name, it is taken relative to the
directory specified by the \fIpathoutgoing\fR parameter in \fIinn.conf\fR.
It is normally written by specifying the \f(CW\*(C`Wnm\*(C'\fR flags in the \fInewsfeeds\fR
file.  Each line in the batch file should be in one of the following
formats:
.PP
.Vb 2
\&    article Message\-ID
\&    article
.Ve
.PP
The first field is either the storage \s-1API\s0 token of an article or the
name of a file holding an article.  If it is not an absolute pathname
or a storage \s-1API\s0 token, it is taken to be a file name relative to
\&\fIpatharticles\fR in \fIinn.conf\fR. If the second field is not specified,
the message-ID will be obtained by scanning the article.  The two fields,
if present, are separated by a space.  If a communication error such
as a \fIwrite\fR\|(2) failure occurs, \fBinnxmit\fR will stop sending and rewrite
the batch file to contain the current article and any other unsent
articles.
.PP
An alternative to \fBinnxmit\fR can be \fBinnduct\fR, mentioned in the
\&\fIinnfeed\fR\|(8) man page.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-a\fR" 4
.IX Item "-a"
If all articles were sent successfully, \fBinnxmit\fR will remove the
batch file; otherwise it will rewrite it to contain the list of unsent articles.
If no articles were sent or rejected, the file is left untouched.  This can
cause the batch file to grow excessively large if many articles have been
expired and there are communication problems.  To always rewrite the batch file,
use the \fB\-a\fR flag.
.IP "\fB\-c\fR" 4
.IX Item "-c"
In streaming mode, a check of each message-ID is still made to avoid sending
articles already on the server.  The \fB\-c\fR flag will, if streaming mode
is supported, result in sending articles without checking.  This results
in slightly greater throughput and may be appropriate when it is known
that the site could not already have the articles such as in the case of
a \*(L"leaf\*(R" site.
.IP "\fB\-d\fR" 4
.IX Item "-d"
Use the \fB\-d\fR flag to print debugging information on standard error.  This
will show the protocol transactions between \fBinnxmit\fR and the \s-1NNTP\s0 server
on the remote host.
.IP "\fB\-H\fR" 4
.IX Item "-H"
If the \fB\-H\fR flag is given, then only headers are sent to \fIhost\fR for all
articles except control messages.  And the Bytes: header is also included
even if it does not exist in the original article.  The \fB\-H\fR flag is useful
for Diablo reader.
.IP "\fB\-l\fR" 4
.IX Item "-l"
The \fB\-l\fR flag is used to turn on logging of reasons the remote gives
for rejecting an article.
.IP "\fB\-P\fR \fIportnum\fR" 4
.IX Item "-P portnum"
To specify a port number other than the default, use the \fB\-P\fR flag.
.IP "\fB\-p\fR" 4
.IX Item "-p"
If the \fB\-p\fR flag is given, then no connection is made and the batch
file is purged of entries that refer to files that no longer exist.
This implies the \fB\-a\fR flag.
.IP "\fB\-r\fR" 4
.IX Item "-r"
If the remote server sends an unexpected reply code, \fBinnxmit\fR will
requeue the article and proceed.  Use the \fB\-r\fR flag if the article
should not be requeued.
.IP "\fB\-s\fR" 4
.IX Item "-s"
\&\fBinnxmit\fR will attempt to negotiate a streaming mode extension of the \s-1NNTP\s0
protocol with the server at connect time.  If successful, it will use a slightly
different protocol that enhances throughput.  If the server does not recognize
the streaming mode negotiation, \fBinnxmit\fR will revert to normal \s-1NNTP\s0 transfer
mode.  Use the \fB\-s\fR flag to disable the attempt to negotiate the streaming mode
extension.
.IP "\fB\-T\fR \fIseconds\fR" 4
.IX Item "-T seconds"
To specify the total amount of time that should be allowed for article transfers,
use the \fB\-T\fR flag.  The default is to wait until an I/O error occurs, or all
the articles have been transferred.  If the \fB\-T\fR flag is used, the time is
checked just before each article is started; it will not abort a transfer
that is in progress.
.IP "\fB\-t\fR \fIseconds\fR" 4
.IX Item "-t seconds"
\&\fBinnxmit\fR normally blocks until the connection is made.  To specify a timeout
on how long to try to make the connection, use the \fB\-t\fR flag.
.IP "\fB\-v\fR" 4
.IX Item "-v"
Upon exit, \fBinnxmit\fR reports transfer and \s-1CPU\s0 usage statistics via syslog.
If the \fB\-v\fR flag is used, they will also be printed on the standard output.
.SH "HISTORY"
.IX Header "HISTORY"
Written by Rich \f(CW$alz\fR <rsalz@uunet.uu.net> for InterNetNews. Converted to \s-1POD\s0
by Julien Elie.
.PP
\&\f(CW$Id:\fR innxmit.pod 9588 2013\-12\-19 17:46:41Z iulius $
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIctlinnd\fR\|(8), \fIinn.conf\fR\|(5), \fIinnd\fR\|(8), \fInewsfeeds\fR\|(5), \fIpasswd.nntp\fR\|(5), \fIshlock\fR\|(1).
