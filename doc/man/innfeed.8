.\" Automatically generated by Pod::Man 4.07 (Pod::Simple 3.32)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.if !\nF .nr F 0
.if \nF>0 \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    if !\nF==2 \{\
.        nr % 0
.        nr F 2
.    \}
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "INNFEED 8"
.TH INNFEED 8 "2015-09-12" "INN 2.6.3" "InterNetNews Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
innfeed, imapfeed \- Multi\-host, multi\-connection, streaming NNTP feeder
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBinnfeed\fR [\fB\-ChmMvxyz\fR] [\fB\-a\fR \fIspool-dir\fR] [\fB\-b\fR \fIdirectory\fR]
[\fB\-c\fR \fIconfig-file\fR] [\fB\-d\fR \fIlog-level\fR] [\fB\-e\fR \fIbytes\fR]
[\fB\-l\fR \fIlogfile\fR] [\fB\-o\fR \fIbytes\fR] [\fB\-p\fR \fIpid-file\fR] [\fB\-s\fR \fIcommand\fR]
[\fB\-S\fR \fIstatus-file\fR] [\fIfile\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBinnfeed\fR implements the \s-1NNTP\s0 protocol for transferring news between
computers.  It handles the standard \s-1IHAVE\s0 protocol as well as the
\&\s-1CHECK/TAKETHIS\s0 streaming extension.  \fBinnfeed\fR can feed any number of
remote hosts at once and will open multiple connections to each host if
configured to do so.  The only limitations are the process limits for open
file descriptors and memory.
.PP
As an alternative to using \s-1NNTP, INN\s0 may also be fed to an \s-1IMAP\s0 server.
This is done by using an executable called \fBimapfeed\fR, which is identical
to \fBinnfeed\fR except for the delivery process.  The new version has two
types of connections:  an \s-1LMTP\s0 connection to deliver regular messages and
an \s-1IMAP\s0 connection to handle control messages.
.SH "MODES"
.IX Header "MODES"
\&\fBinnfeed\fR has three modes of operation:  channel, funnel-file and batch.
.PP
Channel mode is used when no filename is given on the command line,
the \fIinput-file\fR keyword is \fInot\fR given in the config file, \fIand\fR
the \fB\-x\fR option is \fInot\fR given.  In channel mode, \fBinnfeed\fR runs with
stdin connected via a pipe to \fBinnd\fR.  Whenever \fBinnd\fR closes this pipe
(and it has several reasons during normal processing to do so), \fBinnfeed\fR
will exit.  It first will try to finish sending all articles it was in
the middle of transmitting, before issuing a \s-1QUIT\s0 command.  This means
\&\fBinnfeed\fR may take a while to exit depending on how slow your peers are.
It never (well, almost never) just drops the connection.  The recommended
way to restart \fBinnfeed\fR when run in channel mode is therefore to tell
\&\fBinnd\fR to close the pipe and spawn a new \fBinnfeed\fR process.  This can
be done with \f(CW\*(C`ctlinnd flush \f(CIfeed\f(CW\*(C'\fR where \fIfeed\fR is the name of
the \fBinnfeed\fR channel feed in the \fInewsfeeds\fR file.
.PP
Funnel-file mode is used when a filename is given as an argument or the
\&\fIinput-file\fR keyword is given in the config file.  In funnel-file mode,
it reads the specified file for the same formatted information as \fBinnd\fR
would give in channel mode.  It is expected that \fBinnd\fR is continually
writing to this file, so when \fBinnfeed\fR reaches the end of the file, it
will check periodically for new information.  To prevent the funnel file
from growing without bounds, you will need to periodically move the file
to the side (or simply remove it) and have \fBinnd\fR flush the file.  Then,
after the file is flushed by \fBinnd\fR, you can send \fBinnfeed\fR a \s-1SIGALRM,\s0
and it too will close the file and open the new file created by \fBinnd\fR.
Something like:
.PP
.Vb 7
\&    innfeed \-p <pathrun in inn.conf>/innfeed.pid my\-funnel\-file &
\&    while true; do
\&        sleep 43200
\&        rm \-f my\-funnel\-file
\&        ctlinnd flush funnel\-file\-site
\&        kill \-ALRM \`cat <pathrun>/innfeed.pid\`
\&    done
.Ve
.PP
Batch mode is used when the \fB\-x\fR flag is used.  In batch mode, \fBinnfeed\fR
will ignore stdin, and will simply process any backlog created by a
previously running \fBinnfeed\fR.  This mode is not normally needed as
\&\fBinnfeed\fR will take care of backlog processing.
.SH "CONFIGURATION"
.IX Header "CONFIGURATION"
\&\fBinnfeed\fR expects a couple of things to be able to run correctly:  a
directory where it can store backlog files and a configuration file to
describe which peers it should handle.
.PP
The configuration file is described in \fIinnfeed.conf\fR\|(5).  The \fB\-c\fR option
can be used to specify a different file.  For each peer (say, \f(CW\*(C`foo\*(C'\fR),
\&\fBinnfeed\fR manages up to 4 files in the backlog directory:
.IP "\(bu" 2
A \fIfoo.lock\fR file, which prevents other instances of \fBinnfeed\fR from
interfering with this one.
.IP "\(bu" 2
A \fIfoo.input\fR file which has old article information \fBinnfeed\fR is reading
for re-processing.
.IP "\(bu" 2
A \fIfoo.output\fR file where \fBinnfeed\fR is writing information on articles
that could not be processed (normally due to a slow or blocked peer).
.IP "\(bu" 2
A \fIfoo\fR file that is never created by \fBinnfeed\fR, but if \fBinnfeed\fR
notices it, it will rename it to \fIfoo.input\fR at the next opportunity and
will start reading from it.  This lets you create a batch file and put it
in a place where \fBinnfeed\fR will find it.
.PP
You should never alter the \fIfoo.input\fR or \fIfoo.output\fR files of a running
\&\fBinnfeed\fR.  The format of these last three files is one of the following:
.PP
.Vb 2
\&    /path/to/article <message\-id>
\&    @token@ <message\-id>
.Ve
.PP
This is the same as the first two fields of the lines \fBinnd\fR feeds to
\&\fBinnfeed\fR, and the same as the first two fields of the lines of the batch
file \fBinnd\fR will write if \fBinnfeed\fR is unavailable for some reason.
When \fBinnfeed\fR processes its own batch files, it ignores everything after
the first two whitespace separated fields, so moving the \fBinnd\fR\-created
batch file to the appropriate spot will work, even though the lines have
extra fields.
.PP
The first field can also be a storage \s-1API\s0 token.  The two types of lines
can be intermingled; \fBinnfeed\fR will use the storage manager if appropriate,
and otherwise treat the first field as a filename to read directly.
.PP
\&\fBinnfeed\fR writes its current status to the file \fIinnfeed.status\fR (or
the file given by the \fB\-S\fR option).  This file contains details on the
process as a whole, and on each peer this instance of \fBinnfeed\fR is managing.
.PP
If \fBinnfeed\fR is told to send an article to a host it is not managing,
then the article information will be put into a file matching the pattern
\&\fIinnfeed\-dropped.*\fR, with part of the file name matching the pid of the
\&\fBinnfeed\fR process that is writing to it.  \fBinnfeed\fR will not process this
file except to write to it.  If nothing is written to the file, then it
will be removed if \fBinnfeed\fR exits normally.  Otherwise, the file remains,
and \fBprocbatch\fR can be invoked to process it afterwards.
.SH "SIGNALS"
.IX Header "SIGNALS"
Upon receipt of a \s-1SIGALRM, \s0\fBinnfeed\fR will close the funnel file specified
on the command line, and will reopen it (see funnel file description above).
.PP
\&\fBinnfeed\fR with catch \s-1SIGINT\s0 and will write a large debugging snapshot of
the state of the running system.
.PP
\&\fBinnfeed\fR will catch \s-1SIGHUP\s0 and will reload both the config and the
log files.  See \fIinnfeed.conf\fR\|(5) for more details.
.PP
\&\fBinnfeed\fR will catch \s-1SIGCHLD\s0 and will close and reopen all backlog files.
.PP
\&\fBinnfeed\fR will catch \s-1SIGTERM\s0 and will do an orderly shutdown.
.PP
Upon receipt of a \s-1SIGUSR1, \s0\fBinnfeed\fR will increment the debugging level
by one; receipt of a \s-1SIGUSR2\s0 will decrement it by one.  The debugging
level starts at zero (unless the \fB\-d\fR option it used), in which case no
debugging information is emitted.  A larger value for the level means more
debugging information. Numbers up to 5 are currently useful.
.SH "SYSLOG ENTRIES"
.IX Header "SYSLOG ENTRIES"
There are 3 different categories of syslog entries for statistics:  host,
connection and global.
.PP
The host statistics are generated for a given peer at regular intervals
after the first connection is made (or, if the remote is unreachable, after
spooling starts).  The host statistics give totals over all connections
that have been active during the given time frame.  For example (broken
here to fit the page, with \f(CW\*(C`vixie\*(C'\fR being the peer):
.PP
.Vb 5
\&    May 23 12:49:08 news innfeed[16015]: vixie checkpoint
\&        seconds 1381 offered 2744 accepted 1286 refused 1021 rejected 437
\&        missing 0 accsize 8506220 rejsize 142129 spooled 990
\&        on_close 0 unspooled 240 deferred 10/15.3 requeued 25
\&        queue 42.1/100:14,35,13,4,24,10
.Ve
.PP
The meanings of these fields are:
.IP "seconds" 2
.IX Item "seconds"
The time since \fBinnfeed\fR connected to the host or since the statistics
were reset by a \f(CW\*(C`final\*(C'\fR log entry.
.IP "offered" 2
.IX Item "offered"
The number of \s-1IHAVE\s0 commands sent to the host if it is not in streaming
mode.  The sum of the number of \s-1TAKETHIS\s0 commands sent when no-CHECK mode
is in effect plus the number of \s-1CHECK\s0 commands sent in streaming mode
(when no-CHECK mode is not in effect).
.IP "accepted" 2
.IX Item "accepted"
The number of articles which were sent to the remote host and accepted by it.
.IP "refused" 2
.IX Item "refused"
The number of articles offered to the host that it indicated it did not
want because it had already seen the message-ID.  The remote host indicates
this by sending a 435 response to an \s-1IHAVE\s0 command or a 438 response to
a \s-1CHECK\s0 command.
.IP "rejected" 2
.IX Item "rejected"
The number of articles transferred to the host that it did not accept because
it determined either that it already had the article or it did not want it
because of the article's Newsgroups: or Distribution: header fields, etc.
The remote host indicates that it is rejecting the article by sending a
437 or 439 response after \fBinnfeed\fR sent the entire article.
.IP "missing" 2
.IX Item "missing"
The number of articles which \fBinnfeed\fR was told to offer to the host but
which were not present in the article spool.  These articles were probably
cancelled or expired before \fBinnfeed\fR was able to offer them to the host.
.IP "accsize" 2
.IX Item "accsize"
The number of bytes of all accepted articles transferred to the host.
.IP "rejsize" 2
.IX Item "rejsize"
The number of bytes of all rejected articles transferred to the host.
.IP "spooled" 2
.IX Item "spooled"
The number of article entries that were written to the \fI.output\fR
backlog file because the articles either could not be sent to the host
or were refused by it.  Articles are generally spooled either because new
articles are arriving more quickly than they can be offered to the host,
or because \fBinnfeed\fR closed all the connections to the host and pushed
all the articles currently in progress to the \fI.output\fR backlog file.
.IP "on_close" 2
.IX Item "on_close"
The number of articles that were spooled when \fBinnfeed\fR closed all the
connections to the host.
.IP "unspooled" 2
.IX Item "unspooled"
The number of article entries that were read from the \fI.input\fR backlog file.
.IP "deferred" 2
.IX Item "deferred"
The first number is the number of articles that the host told \fBinnfeed\fR
to retry later by sending a 431 or 436 response.  \fBinnfeed\fR immediately
puts these articles back on the tail of the queue.
.Sp
The second number is the average (mean) size of deferred articles during
the previous logging interval
.IP "requeued" 2
.IX Item "requeued"
The number of articles that were in progress on connections when \fBinnfeed\fR
dropped those connections and put the articles back on the queue.
These connections may have been broken by a network problem or became
unresponsive causing \fBinnfeed\fR to time them out.
.IP "queue" 2
.IX Item "queue"
The first number is the average (mean) queue size during the previous
logging interval.  The second number is the maximum allowable queue size.
The third number is the percentage of the time that the queue was empty.
The fourth through seventh numbers are the percentages of the time that
the queue was >0% to 25% full, 25% to 50% full, 50% to 75% full, and 75%
to <100% full.  The last number is the percentage of the time that the
queue was totally full.
.PP
If the \fB\-z\fR option is used (see below), then when the peer stats are
generated, each connection will log its stats too.  For example, for
connection number zero (from a set of five):
.PP
.Vb 3
\&    May 23 12:49:08 news innfeed[16015]: vixie:0 checkpoint
\&        seconds 1381 offered 596 accepted 274 refused 225
\&        rejected 97 accsize 773623 rejsize 86591
.Ve
.PP
If you only open a maximum of one connection to a remote, then there will
be a close correlation between connection numbers and host numbers, but
in general you cannot tie the two sets of number together in any easy or
very meaningful way.  When a connection closes, it will always log its stats.
.PP
If all connections for a host get closed together, then the host logs its
stats as \f(CW\*(C`final\*(C'\fR and resets its counters.  If the feed is so busy that
there is always at least one connection open and running, then after some
amount of time (set via the config file), the host stats are logged as final
and reset.  This is to make generating higher level stats from log files,
by other programs, easier.
.PP
There is one log entry that is emitted for a host just after its last
connection closes and \fBinnfeed\fR is preparing to exit.  This entry contains
counts over the entire life of the process.  The \f(CW\*(C`seconds\*(C'\fR field is from the
first time a connection was successfully built, or the first time spooling
started.  If a host has been completely idle, it will have no such log entry.
.PP
.Vb 3
\&    May 23 12:49:08 news innfeed[16015]: decwrl global
\&        seconds 1381 offered 34 accepted 22 refused 3 rejected 7
\&        missing 0 accsize 81277 rejsize 12738 spooled 0 unspooled 0
.Ve
.PP
The final log entry is emitted immediately before exiting.  It contains a
summary of the statistics over the entire life of the process.
.PP
.Vb 4
\&    Feb 13 14:43:41 news innfeed[22344]: ME global
\&        seconds 15742 offered 273441 accepted 45750 refused 222008
\&        rejected 3334 missing 217 accsize 93647166 rejsize 7421839
\&        spooled 10 unspooled 0
.Ve
.SH "OPTIONS"
.IX Header "OPTIONS"
\&\fBinnfeed\fR takes the following options.
.IP "\fB\-a\fR \fIspool-dir\fR" 4
.IX Item "-a spool-dir"
The \fB\-a\fR flag is used to specify the top of the article spool tree.
\&\fBinnfeed\fR does a \fIchdir\fR\|(2) to this directory, so it should probably be an
absolute path.  The default is \fIpatharticles\fR as set in \fIinn.conf\fR.
.IP "\fB\-b\fR \fIdirectory\fR" 4
.IX Item "-b directory"
The \fB\-b\fR flag may be used to specify a different directory for backlog
file storage and retrieval, as well as for lock files.  If the path is
relative, then it is relative to \fIpathspool\fR as set in \fIinn.conf\fR.
The default is \f(CW\*(C`innfeed\*(C'\fR.
.IP "\fB\-c\fR \fIconfig-file\fR" 4
.IX Item "-c config-file"
The \fB\-c\fR flag may be used to specify a different config file from the
default value.  If the path is relative, then it is relative to \fIpathetc\fR
as set in \fIinn.conf\fR.  The default is \fIinnfeed.conf\fR.
.IP "\fB\-C\fR" 4
.IX Item "-C"
The \fB\-C\fR flag is used to have \fBinnfeed\fR simply check the config file,
report on any errors and then exit.
.IP "\fB\-d\fR \fIlog-level\fR" 4
.IX Item "-d log-level"
The \fB\-d\fR flag may be used to specify the initial logging level.
All debugging messages go to stderr (which may not be what you want,
see the \fB\-l\fR flag below).
.IP "\fB\-e\fR \fIbytes\fR" 4
.IX Item "-e bytes"
The \fB\-e\fR flag may be used to specify the size limit (in bytes) for the
\&\fI.output\fR backlog files \fBinnfeed\fR creates.  If the output file gets
bigger than 10% more than the given number, \fBinnfeed\fR will replace the
output file with the tail of the original version.  The default value is
\&\f(CW0\fR, which means there is no limit.
.IP "\fB\-h\fR" 4
.IX Item "-h"
Use the \fB\-h\fR flag to print the usage message.
.IP "\fB\-l\fR \fIlogfile\fR" 4
.IX Item "-l logfile"
The \fB\-l\fR flag may be used to specify a different log file from stderr.
As \fBinnd\fR starts \fBinnfeed\fR with stderr attached to /dev/null, using
this option can be useful in catching any abnormal error messages, or any
debugging messages (all \*(L"normal\*(R" errors messages go to syslog).
.IP "\fB\-m\fR" 4
.IX Item "-m"
The \fB\-m\fR flag is used to turn on logging of all missing articles.
Normally, if an article is missing, \fBinnfeed\fR keeps a count, but logs no
further information.  When this flag is used, details about message-IDs
and expected path names are logged.
.IP "\fB\-M\fR" 4
.IX Item "-M"
If \fBinnfeed\fR has been built with mmap support, then the \fB\-M\fR flag turns
\&\s-1OFF\s0 the use of \fImmap()\fR; otherwise, it has no effect.
.IP "\fB\-o\fR \fIbytes\fR" 4
.IX Item "-o bytes"
The \fB\-o\fR flag sets a value of the maximum number of bytes of article data
\&\fBinnfeed\fR is supposed to keep in memory.  This does not work properly yet.
.IP "\fB\-p\fR \fIpid-file\fR" 4
.IX Item "-p pid-file"
The \fB\-p\fR flag is used to specify the file name to write the pid of
the process into.  A relative path is relative to \fIpathrun\fR as set in
\&\fIinn.conf\fR.  The default is \fIinnfeed.pid\fR.
.IP "\fB\-s\fR \fIcommand\fR" 4
.IX Item "-s command"
The \fB\-s\fR flag specifies the name of a command to run in a subprocess and
read article information from.  This is similar to channel mode operation,
only that \fIcommand\fR takes the place usually occupied by \fBinnd\fR.
.IP "\fB\-S\fR \fIstatus-file\fR" 4
.IX Item "-S status-file"
The \fB\-S\fR flag specifies the name of the file to write the periodic status
to.  If the path is relative, it is considered relative to \fIpathlog\fR
as set in \fIinn.conf\fR.  The default is \fIinnfeed.status\fR.
.IP "\fB\-v\fR" 4
.IX Item "-v"
When the \fB\-v\fR flag is given, version information is printed to stderr
and then \fBinnfeed\fR exits.
.IP "\fB\-x\fR" 4
.IX Item "-x"
The \fB\-x\fR flag is used to tell \fBinnfeed\fR not to expect any article
information from \fBinnd\fR but just to process any backlog files that exist
and then exit.
.IP "\fB\-y\fR" 4
.IX Item "-y"
The \fB\-y\fR flag is used to allow dynamic peer binding.  If this flag is
used and article information is received from \fBinnd\fR that specifies an
unknown peer, then the peer name is taken to be the \s-1IP\s0 name too, and an
association with it is created.  Using this, it is possible to only have
the global defaults in the \fIinnfeed.conf\fR file, provided the peer name
as used by \fBinnd\fR is the same as the \s-1IP\s0 name.
.Sp
Note that \fBinnfeed\fR with \fB\-y\fR and no peer in \fIinnfeed.conf\fR would cause
a problem that \fBinnfeed\fR drops the first article.
.IP "\fB\-z\fR" 4
.IX Item "-z"
The \fB\-z\fR flag is used to cause each connection, in a parallel feed
configuration, to report statistics when the controller for the connections
prints its statistics.
.SH "BUGS"
.IX Header "BUGS"
When using the \fB\-x\fR option, the config file entry's \fIinitial-connections\fR
field will be the total number of connections created and used, no matter
how many big the batch file, and no matter how big the \fImax-connections\fR
field specifies.  Thus a value of \f(CW0\fR for \fIinitial-connections\fR means
nothing will happen in \fB\-x\fR mode.
.PP
\&\fBinnfeed\fR does not automatically grab the file out of \fIpathoutgoing\fR.
This needs to be prepared for it by external means.
.PP
Probably too many other bugs to count.
.SH "ALTERNATIVE"
.IX Header "ALTERNATIVE"
An alternative to \fBinnfeed\fR can be
\&\fBinnduct\fR, maintained by Ian Jackson and available at
<http://www.chiark.greenend.org.uk/ucgi/~ian/git\-manpage/innduct.git/innduct.8>.
It is intended to solve a design issue in the way \fBinnfeed\fR works.
As a matter of fact, the program feed protocol spoken between \fBinnd\fR
and \fBinnfeed\fR is lossy:  if \fBinnfeed\fR dies unexpectedly, articles
which \fBinnd\fR has written to the pipe to \fBinnfeed\fR will be skipped.
\&\fBinnd\fR has no way of telling which articles those are, no useful
records, and no attempts to resend these articles.
.SH "FILES"
.IX Header "FILES"
.IP "\fIpathbin\fR/innfeed" 4
.IX Item "pathbin/innfeed"
The binary program itself.
.IP "\fIpathetc\fR/innfeed.conf" 4
.IX Item "pathetc/innfeed.conf"
The configuration file.
.IP "\fIpathspool\fR/innfeed" 4
.IX Item "pathspool/innfeed"
The directory for backlog files.
.SH "HISTORY"
.IX Header "HISTORY"
Written by James Brister <brister@vix.com> for InterNetNews.  Converted to
\&\s-1POD\s0 by Julien Elie.
.PP
Earlier versions of \fBinnfeed\fR (up to 0.10.1) were shipped separately;
\&\fBinnfeed\fR is now part of \s-1INN\s0 and shares the same version number.
.PP
\&\f(CW$Id:\fR innfeed.pod 9588 2013\-12\-19 17:46:41Z iulius $
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIctlinnd\fR\|(8), \fIinn.conf\fR\|(5), \fIinnfeed.conf\fR\|(5), \fIinnd\fR\|(8), \fIprocbatch\fR\|(8).
